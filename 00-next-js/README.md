# λ„¥μ¤νΈjs

π“ƒ κ³µμ‹λ¬Έμ„λ¥Ό μ½μΌλ©΄μ„ κ³µλ¶€ν• λ‚΄μ©μ„ μ •λ¦¬ν•κ³ , ν† μ΄ν”„λ΅μ νΈμ— μ§μ ‘ μ μ©ν•΄λ΄…λ‹λ‹¤

π“– λ°”λ΅ μ΄λ™

- [λ„¥μ¤νΈjs λ€?](https://github.com/Superduper-India/toy-projects/tree/main/00-next-js#%EB%84%A5%EC%8A%A4%ED%8A%B8js-%EB%9E%80)
- [hydration](https://github.com/Superduper-India/toy-projects/tree/main/00-next-js#%ED%95%98%EC%9D%B4%EB%93%9C%EB%A0%88%EC%9D%B4%EC%85%98hydration---%EC%88%98%ED%99%94%EC%9E%91%EC%9A%A9)
- [λ¦¬μ•΅νΈ μ—μ„Όμ…](https://github.com/Superduper-India/toy-projects/tree/main/00-next-js#%EB%A6%AC%EC%95%A1%ED%8A%B8-%EC%97%90%EC%84%BC%EC%85%9C-react-essentials)
- [νμ΄μ§€μ™€ λ μ΄μ•„μ›ƒ](https://github.com/Superduper-India/toy-projects/tree/main/00-next-js#%ED%8E%98%EC%9D%B4%EC%A7%80%EC%99%80-%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83)

<br/>

# π’΅ ν•µμ‹¬ κ°λ…

> ### μ°Έκ³ μλ£
>
> [λ„¥μ¤νΈ κ³µμ‹λ¬Έμ„](https://nextjs.org/) <br/> [λ„¥μ¤νΈ FOUNDATIONS](https://nextjs.org/learn/foundations/about-nextjs?utm_source=next-site&utm_medium=nav-cta&utm_campaign=next-website) <br/> [Next.jsμ Hydrateλ€?](https://helloinyong.tistory.com/315)

## λ„¥μ¤νΈjs λ€?

λ„¥μ¤νΈjsλ” λΉ λ¥Έ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ„ λ§λ“¤κΈ° μ„ν• λΉλ”© λΈ”λ΅μ„ μ κ³µν•λ” μ μ—°ν• React`ν”„λ μ„μ›ν¬`μ΄λ‹¤.

```
μ—¬κΈ°μ„ ν”„λ μ„μ›ν¬λ€, λ„¥μ¤νΈjsκ°€ λ¦¬μ•΅νΈμ— ν•„μ”ν• λ„κµ¬ λ° κµ¬μ„±μ„ μ²λ¦¬ν•κ³  μ•±μ— λ€ν• μ¶”κ°€ κµ¬μ΅°, κΈ°λ¥ λ° μµμ ν™”λ¥Ό μ κ³µν•λ‹¤λ” μλ―Έμ΄λ‹¤.
```

μµμ‹  μ•±μ„ κµ¬μ¶•ν•  λ• κ³ λ ¤ν•΄μ•Ό ν•  μ‚¬ν•­λ“¤μ€ λ‹¤μκ³Ό κ°™λ‹¤.
<br/>

- μ‚¬μ©μ μΈν„°νμ΄μ¤(User Interface): μ‚¬μ©μκ°€ μ•±μ„ μ†λΉ„ν•κ³  μƒνΈμ‘μ©ν•λ” λ°©λ²•
- λΌμ°ν…(Routing): μ‚¬μ©μκ°€ μ•±μ μ—¬λ¬ λ¶€λ¶„μ„ νƒμƒ‰ν•λ” λ°©λ²•
- λ°μ΄ν„° κ°€μ Έμ¤κΈ°(Data Fetching): λ°μ΄ν„°κ°€ μλ” μ„μΉμ™€ λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ” λ°©λ²•
- λ λ”λ§(Rendering): μ •μ  λλ” λ™μ  μ½ν…μΈ λ¥Ό λ λ”λ§ν•λ” μ‹κΈ°μ™€ μ„μΉ
- ν†µν•©(Integrations): λ‚΄κ°€ μ‚¬μ©ν•λ” third-party(μ  3μ) μ„λΉ„μ¤(CMS, μΈμ¦, κ²°μ  λ“±) λ° μ—°κ²° λ°©λ²•
- μΈν”„λΌ(Infrastructure): μ•± μ½”λ“(μ„λ²„λ¦¬μ¤, CDN, Edge λ“±)λ¥Ό λ°°ν¬, μ €μ¥ λ° μ‹¤ν–‰ν•λ” κ³³
- μ„±λ¥(Performance): μµμΆ… μ‚¬μ©μλ¥Ό μ„ν•΄ μ•±μ„ μµμ ν™”ν•λ” λ°©λ²•
- ν™•μ¥μ„±(Scalability): ν€, λ°μ΄ν„° λ° νΈλν”½μ΄ μ¦κ°€ν•¨μ— λ”°λΌ μ•±μ΄ μ μ‘ν•λ” λ°©μ‹
- κ°λ°μ κ²½ν—(Developer Experience): μ•± κµ¬μ¶• λ° μ μ§€ κ΄€λ¦¬ ν€μ κ²½ν—

κ·Έλ¦¬κ³  μ•±μ κ° λ¶€λ¶„μ— λ€ν•΄ μ†”λ£¨μ…μ„ μ§μ ‘ κµ¬μ¶•ν• μ§€ μ•„λ‹λ©΄ λΌμ΄λΈλ¬λ¦¬ λ° ν”„λ μ„μ›ν¬μ™€ κ°™μ€ λ‹¤λ¥Έ λ„κµ¬λ¥Ό μ‚¬μ©ν• μ§€ κ²°μ •ν•΄μ•Ό ν•λ‹¤.

κΈ°μ΅΄μ λ¦¬μ•΅νΈjsλ” μƒνΈμ‘μ©ν•λ” μ‚¬μ©μ μΈν„°νμ΄μ¤λ¥Ό κµ¬μ¶•ν•κΈ° μ„ν• jsλΌμ΄λΈλ¬λ¦¬λ‹¤. μ‚¬μ©μ μΈν„°νμ΄μ¤λ€ μ‚¬μ©μκ°€ ν™”λ©΄μ—μ„ λ³΄κ³  μƒνΈμ‘μ©ν•λ” μ”μ†λ¥Ό λ§ν•λ‹¤.
<br/>
λ¦¬μ•΅νΈλ” λΌμ΄λΈλ¬λ¦¬λ΅μ„ UIλ¥Ό λΉλ“ν•λ”λ° μ μ©ν• κΈ°λ¥μ„ μ κ³µν•μ§€λ§ μ•±μ—μ„ ν•΄λ‹Ή κΈ°λ¥μ„ μ‚¬μ©ν•  κ¶ν•μ„ κ°λ°μμ—κ² μ¤€λ‹¤.

λ¦¬μ•΅νΈμ μ„±κ³µ μ¤‘ μΌλ¶€λ” μ•±κµ¬μ¶•μ λ‹¤λ¥Έ μΈ΅λ©΄μ— λ€ν•΄ μƒλ€μ μΌλ΅ μκ²¬μ΄ λ¶„λ¶„ν•λ‹¤λ” κ²ƒμ΄λ‹¤. μ΄λ΅ μΈν•΄ νƒ€μ‚¬ λ„κµ¬ λ° μ†”λ£¨μ…μ΄ λ²μ„±ν•λ” μƒνƒκ³„κ°€ νƒ„μƒν–λ‹¤.

κ·Έλ¬λ‚ μ™„μ „ν• Reactμ•±μ„ μ²μλ¶€ν„° κµ¬μ¶•ν•λ ¤λ©΄ μ•½κ°„μ λ…Έλ ¥μ΄ ν•„μ”ν•λ‹¤λ” μλ―ΈκΈ°λ„ ν•λ‹¤. κ°λ°μλ” μΌλ°μ μΈ μ•± μ”κµ¬ μ‚¬ν•­μ— λ§κ² λ„κµ¬λ¥Ό μ„¤κ³„ν•κ³  μ†”λ£¨μ…μ„ μ²μλ¶€ν„° λ‹¤μ‹ λ§λ“λ”λ° μ‹κ°„μ„ ν• μ• ν•΄μ•Ό ν•λ‹¤.

  <img src="./img/next-app.png" width="80%"/>

<br/>

## ν•μ΄λ“λ μ΄μ…(hydration) - μν™”μ‘μ©

μ›Ή κ°λ°μ—μ„ hydrateλ” λ‹¤μκ³Ό κ°™μ€ ν”„λ΅μ„Έμ¤λ¥Ό λ§ν•λ‹¤.

- μ„λ²„λ‹¨μ—μ„ Pre-Renderingλ htmlνμ΄μ§€μ™€ λ²λ“¤λ§λ jsνμΌμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚Έλ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ‹¨μ—μ„ htmlμ½”λ“μ™€ jsμ΄λ²¤νΈ λ¦¬μ¤λ„ λ° μƒνƒλ¥Ό μ—°κ²°ν•λ‹¤.
  <img src="./img/hydration-steps.png" width="80%"/>

κΈ°μ΅΄μ Reactλ” jsνμΌλ§μ„ μ΄μ©ν•μ—¬ μ›Ή ν™”λ©΄μ„ κµ¬μ„±ν•λ” μ›λ¦¬λ¥Ό κ°–κ³ μμ–΄μ„ htmlμ½”λ“λ” μ•„λμ™€ κ°™μ΄ μ•μ— λ‚΄μ©μ΄ ν•λ‚λ„ μ—†λ‹¤. μ΄λ” CSR(Client Side Rendering)μ΄ SEOμ— μ ν•©ν•μ§€ μ•μ€ μ΄μ κΈ°λ„ ν•λ‹¤.

```javascript
// public/index.html

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

λ‹¨μ λΌλ€λ§ μλ” html documentμ™€ jsνμΌλ“¤μ„ ν΄λΌμ΄μ–ΈνΈλ΅ λ¨λ‘ λ³΄λ‚Έ λ’¤, ν΄λΌμ΄μ–ΈνΈ λ‹¨μ—μ„ jsμ½”λ“λ“¤μ„ ν†µν•΄ μ›Ή ν™”λ©΄μ„ λ λ”λ§ν•λ©° νμ΄μ§€λ¥Ό κ·Έλ¦¬κ² λλ‹¤. κ·Έλ¦¬κ³  λ λ”λ§μ„ ν• λ’¤μ—λ„ νμ΄μ§€ λ‚΄ λ™μ‘ν•λ” λ¨λ“  μ΄λ²¤νΈ λν• jsλ΅ μΈν•΄ μΌμ–΄λ‚κ² λλ‹¤.
<br/>

μ•„λ μ½”λ“μ²λΌ `index.js`μ jsμ½”λ“μ—μ„ λ¨λ“  ν™”λ©΄μ„ λ λ”λ§ν• λ’¤ html domμ”μ† μ¤‘ rootλΌλ” μ•„μ΄λ””λ¥Ό κ°€μ§„ μ—λ¦¬λ¨ΌνΈλ¥Ό μ°Ύμ•„μ„ ν•μ„λ΅ μ£Όμ…μ„ ν•κ² λλ‹¤.

```javascript
// src/index.js

import React from "react";
import ReactDOM from "react-dom";
import App from "./src/App";

ReactDOM.render(<App />, document.getElementById("root"));
```

λ„¥μ¤νΈjsλ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ›Ή νμ΄μ§€λ¥Ό λ³΄λ‚΄κΈ° μ „μ— μ„λ²„λ‹¨μ—μ„ λ―Έλ¦¬ μ›Ή νμ΄μ§€λ¥Ό **Pre-Rendering**ν•λ‹¤. κ·Έλ¦¬κ³  Pre-RenderingμΌλ΅ μΈν•΄ μƒμ„±λ html documentλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•λ‹¤.
<br/>

κ·Έλ°λ° μ΄ μ‹μ μ—μ„ ν΄λΌμ΄μ–ΈνΈκ°€ λ°›μ€ μ›Ή νμ΄μ§€λ” λ‹¨μν μ›Ή ν™”λ©΄λ§ λ³΄μ—¬μ£Όλ” htmlμΌ λΏμ΄κ³ , jsμ”μ†λ“¤μ΄ ν•λ‚λ„ μ—†λ‹¤. μ΄λ” μ›Ή ν™”λ©΄μ„ λ³΄μ—¬μ£Όκ³  μμ§€λ§, νΉμ • jsλ¨λ“ λΏ μ•„λ‹λΌ λ‹¨μ ν΄λ¦­κ³Ό κ°™μ€ μ΄λ²¤νΈ λ¦¬μ¤λ„λ“¤μ΄ κ° μ›Ή νμ΄μ§€μ domμ”μ†μ— ν•λ‚λ„ μ μ©λμ§€ μ•μ€ μƒνƒμ„μ„ λ§ν•λ‹¤.
<br/>

**μ„λ²„**μ—μ„λ” Pre-Renderingλ μ›Ή νμ΄μ§€λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚΄κ³  λ‚μ„, λ°”λ΅ **λ¦¬μ•΅νΈ**κ°€ λ²λ“¤λ§ λ jsμ½”λ“λ“¤μ„ ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•λ‹¤. κ·Έλ¦¬κ³  μ΄ jsμ½”λ“λ“¤μ΄ μ΄μ „μ— λ³΄λ‚΄μ§„ html domμ”μ† μ„μ—μ„ ν•λ² λ” λ λ”λ§μ„ ν•λ©΄μ„, κ°μ μκΈ° μλ¦¬λ¥Ό μ°Ύμ•„κ°€λ©° **λ§¤μΉ­**λλ‹¤.
μ΄ κ³Όμ •μ„ **Hydrate**λΌκ³  λ¶€λ¥Έλ‹¤. μ΄λ” λ§μΉ jsμ½”λ“λ“¤μ΄ domμ”μ† μ„μ— λ¬Όμ„ μ±„μ°λ“― ν•„μ”λ΅ ν•λ μ”μ†λ“¤μ„ μ±„μ΄λ‹¤ν•μ—¬ μ΄μ™€κ°™μ€ μ©μ–΄λ¥Ό μ“΄λ‹¤κ³  ν•λ‹¤.
<br/>

μ„λ²„μ—μ„ ν• λ² λ λ”λ§ν•κ³ , ν΄λΌμ΄μ–ΈνΈμ—μ„λ„ ν• λ² λ” λ λ”λ§ν•λ©΄ λΉ„ν¨μ¨μ μΈ κ²ƒμ΄ μ•„λ‹κ°€ ν•λ” μλ¬Έμ΄ λ“¤ μ μλ‹¤. ν•μ§€λ§ μ„λ²„λ‹¨μ—μ„ λΉ λ¥΄κ² Pre-Renderingν•κ³  μ μ €μ—κ² λΉ λ¥Έ μ›Ή νμ΄μ§€λ΅ μ‘λ‹µν•  μ μλ‹¤λ” κ²ƒμ— λ”μ± ν° μ΄μ μ„ κ°€μ Έκ° μ μλ‹¤. μ‹¬μ§€μ–΄ Pre-Renderingν• documentλ” λ¨λ“  jsμ”μ†λ“¤μ΄ λΉ μ§„ κµ‰μ¥ν κ°€λ²Όμ΄ μƒνƒμ΄λ―€λ΅ ν΄λΌμ΄μ–ΈνΈμ—κ² λΉ λ¥Έ λ΅λ”©μ΄ κ°€λ¥ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈ λ‹¨μ—μ„ jsκ°€ λ λ”λ§ν•  λ•, λ‹¨μ§€ κ° domμ”μ†μ— jsμ†μ„±μ„ λ§¤μΉ­μ‹ν‚¤κΈ° μ„ν• λ©μ μ΄λ―€λ΅ μ‹¤μ  μ›Ή νμ΄μ§€λ¥Ό λ‹¤μ‹ κ·Έλ¦¬λ” κ³Όμ •κΉμ§€λ” ν•μ§€ μ•λ”λ‹¤.(toDoAsk - Paintκ³Όμ •μ΄ μƒλµλλ‹¤? κ·ΈλΌ μ•„λμ crpκ³Όμ •μ΄ λ¨λ‘ μƒλµλλ” κ²ƒμΌκΉ?)

<img src="./img/crp.png" width="80%"/>

<br/>

## λ¦¬μ•΅νΈ μ—μ„Όμ… (React Essentials)

μ„λ²„ μ»΄ν¬λ„νΈμ™€ κ°™μ€ Reactμ μµμ‹  κΈ°λ¥μ— μµμ™ν•΄μ§€λ” κ²ƒμ΄ λ„¥μ¤νΈjsλ΅ μ•±μ„ κµ¬μ¶•ν•  λ• λ„μ›€μ΄ λλ‹¤. νΉν μ„λ²„ λ° ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ `ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“` μ•±μ **ν’λ¶€ν• μƒνΈ μ‘μ©**κ³Ό κΈ°μ΅΄ μ„λ²„ λ λ”λ§μ **ν–¥μƒλ μ„±λ¥**μ„ κ²°ν•©ν•  μ μλ‹¤. μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ μ°¨μ΄μ , μ‚¬μ© μΌ€μ΄μ¤ λ° κ¶μ¥ ν¨ν„΄ λ“±μ„ μ‚΄ν΄λ³΄μ.

```
μ—¬κΈ°μ„ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“(client-side)λ€ λ„¤νΈμ›ν¬μ ν• λ°©μ‹μΈ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°μ ν΄λΌμ΄μ–ΈνΈ μ½μ—μ„ ν–‰ν•΄μ§€λ” μ²λ¦¬λ¥Ό λ§ν•λ‹¤.
```

> ### μ„λ²„ μ»΄ν¬λ„νΈ

λ¦¬μ•΅νΈλ” SPAμ™€ κ°™μ€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μ•± μ „μ²΄λ¥Ό λ λ”λ§ν•λ” λ€μ‹ , μ©λ„μ— λ”°λΌ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ν•  μ„μΉλ¥Ό μ„ νƒν•  μ μλ” μ μ—°μ„±μ„ μ κ³µν•λ‹¤. μ•„λμ™€ κ°™μ΄ νμ΄μ§€λ¥Ό λ¶„ν• ν•λ©΄ λ€λ¶€λ¶„μ μ»΄ν¬λ„νΈκ°€ μƒνΈμ‘μ©μ„ ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ„λ²„μ—μ„ pre-renderingλ  μ μλ‹¤. λ” μ‘μ€ λ‹¨μ„μ μƒνΈμ‘μ© UIκ°€ μλ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λΏλ ¤μ¤„ μ μλ‹¤. μ΄κ²ƒμ€ λ„¥μ¤νΈjs μ„λ²„ μ°μ„  μ ‘κ·Ό λ°©μ‹κ³Ό μΌμΉν•λ‹¤.

<img src="./img/page.png" width="80%"/>

μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν†µν•΄ κ°λ°μλ” μ„λ²„ μΈν”„λΌλ¥Ό λ” μ ν™μ©ν•  μ μλ‹¤. μλ¥Ό λ“¤μ–΄ μ΄μ „μ— ν΄λΌμ΄μ–ΈνΈμ jsλ²λ“¤ ν¬κΈ°μ— μν–¥μ„ λ―Έμ³¤λ ν° **μΆ…μ†μ„±μ΄ λ€μ‹  μ„λ²„μ— μ™„μ „ν λ‚¨μ•„μ„ μ„±λ¥μ΄ ν–¥μƒ**λ  μ μλ‹¤.

- μ΄κΈ° νμ΄μ§€ λ΅λ“κ°€ λ” λΉ¨λΌμ§„λ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ jsλ²λ“¤ ν¬κΈ°κ°€ μ¤„μ–΄λ“ λ‹¤.
- κΈ°λ³Έ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ°νƒ€μ„μ€ μΊμ‹ κ°€λ¥ν•κ³ , ν¬κΈ°λ¥Ό μμΈ΅ν•  μ μμΌλ©° μ•±μ΄ μ»¤μ Έλ„ μ¦κ°€ν•μ§€ μ•λ”λ‹¤.
- μ¶”κ°€μ μΈ jsλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν†µν•΄ μ•±μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μƒνΈ μ‘μ©μ΄ μ‚¬μ©λλ” κ²½μ°μ—λ§ μ¶”κ°€λλ‹¤.

λΌμ°νΈκ°€ λ„¥μ¤νΈjsμ™€ ν•¨κ» λ΅λ“λλ©΄, μµμ΄ htmlμ΄ μ„λ²„μ—μ„ λ λ”λ§λλ‹¤. κ·Έλ°λ‹¤μ, μ΄ htmlμ€ λΈλΌμ°μ €μ—μ„ μ μ§„μ μΌλ΅ ν–¥μƒλμ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ λ„¥μ¤νΈjs λ° λ¦¬μ•΅νΈμ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ°νƒ€μ„μ„ λΉ„λ™κΈ°μ μΌλ΅ λ΅λ“ν•¨μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈκ°€ μ•±μ„ μΈκ³„ν•κ³  μƒνΈμ‘μ©μ„ μ¶”κ°€ν•  μ μλ‹¤.

`app/`κ²½λ΅ μ•„λμ λ¨λ“  νμΌμ€ κΈ°λ³Έμ μΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈμ΄λ‹¤. μ΄μ— μ„ νƒμ μΌλ΅ `"use client"`μ§€μ‹λ¬Έμ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μµνΈμΈν•  μλ„ μλ‹¤.

> ### ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•λ©΄ μ•±μ— ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μƒνΈμ‘μ©μ„ μ¶”κ°€ν•  μ μλ‹¤. μ•„λμ™€ κ°™μ΄ `"use client"`μ§€μ‹λ¬Έμ„ μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

```jsx
"use client";

import { useState } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>Click me</button>
    </div>
  );
}
```

μ•„λμ™€ κ°™μ΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ κ²½κ³„λ¥Ό μ§“κΈ° μ„ν•΄ `import`λ¬ΈμΌλ΅ κ°€μ Έμ¨ νμΌ λ§¨ μ„μ— λ°°μΉν•λ‹¤. νμΌμ— `"use client"`λ΅ μ •μν•λ©΄ μμ‹ μ»΄ν¬λ„νΈλ¥Ό ν¬ν•¨ν• κ°€μ Έμ¨ λ¨λ“  λ¨λ“λ“¤μ€ ν΄λΌμ΄μ–ΈνΈ λ²λ“¤μ μΌλ¶€λ΅ κ°„μ£Όλλ‹¤.
<img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fuse-client-directive.png&w=1920&q=75" width="80%" />

μ„μ—μ„ μ–ΈκΈ‰ν–λ“―μ΄ `"use client"`μ§€μ‹λ¬ΈμΌλ΅ μ‹μ‘ν•λ” λ¨λ“μ—μ„ μ •μν•κ±°λ‚ κ°€μ Έμ¤μ§€ μ•λ” ν• λ¨λ“  μ»΄ν¬λ„νΈμ κΈ°λ³Έκ°’μ€ μ„λ²„λ‹¤. μ μ ν• μ‚¬μ© μΌ€μ΄μ¤λ” μ•„λ ν‘λ¥Ό μ°Έκ³ ν•μ.

> ### μ„λ²„ λ° ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ‚¬μ© μΌ€μ΄μ¤
>
> <img src="./img/case-of-component.png" width="80%"/>

<br/>

> ### ν¨ν„΄

μ•±μ μ„±λ¥μ„ κ°μ„ ν•λ ¤λ©΄ **μ„λ²„ μ»΄ν¬λ„νΈ**μ— ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό κ°€μ Έμ™€μ„ μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

μλ¥Ό λ“¤μ–΄ `<Layout />`μ»΄ν¬λ„νΈμ— μ •μ  μ”μ†(λ΅κ³ , λ§ν¬ λ“±)λ¥Ό λ λ”λ§ν•λ” `<Logo />`μ™€ μƒνƒλ¥Ό μ‚¬μ©ν•λ” κ²€μƒ‰μ°½μΈ `<SearchBar />`μ»΄ν¬λ„νΈκ°€ μλ‹¤κ³  ν•΄λ³΄μ.

μ „μ²΄ λ μ΄μ•„μ›ƒμ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ§λ“λ” λ€μ‹  μƒνΈμ‘μ©κ΄€λ ¨ λ΅μ§μ„ `<SearchBar />`μ™€ κ°™μ€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λΉΌκ³  **μ „μ²΄ λ μ΄μ•„μ›ƒμ€ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ μ§€ν•λ‹¤.** μ΄λ” λ μ΄μ•„μ›ƒμ λ¨λ“  μ»΄ν¬λ„νΈ jsλ¥Ό ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚Ό ν•„μ”κ°€ μ—†μμ„ μλ―Έν•λ‹¤.

```tsx
// SearchBar is a Client Component
import SearchBar from "./searchbar";
// Logo is a Server Component
import Logo from "./logo";

// Layout is a Server Component by default
export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <>
      <nav>
        <Logo />
        <SearchBar />
      </nav>
      <main>{children}</main>
    </>
  );
}
```

μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” λ™μΌν• μ»΄ν¬λ„νΈ νΈλ¦¬μ—μ„ ν•©μ³μ§ μ μλ‹¤. λ¦¬μ•΅νΈκ°€ μ•„λμ™€ κ°™μ΄ λ λ”λ§ν•λ‹¤.

- μ„λ²„μ—μ„ λ¦¬μ•΅νΈλ” κ²°κ³Όλ¥Ό ν΄λΌμ΄μ–ΈνΈμ— λ³΄λ‚΄κΈ° μ „μ— λ¨λ“  μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ λ”λ§ ν•λ‹¤.
  - μ΄λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ— μ¤‘μ²©λ μ„λ²„ μ»΄ν¬λ„νΈκ°€ ν¬ν•¨λλ‹¤.
  - ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ΄ λ‹¨κ³„λ¥Ό κ±΄λ„λ›΄λ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ—μ„ λ¦¬μ•΅νΈλ” μ„λ²„ μ»΄ν¬λ„νΈμ λ λ”λ§λ κ²°κ³Όμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ™€ μ¬λ΅―μ„ λ λ”λ§ν•μ—¬ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ—μ„ μν–‰λ μ‘μ—…μ„ λ³‘ν–‰ν•λ‹¤.
  - μ„λ²„ μ»΄ν¬λ„νΈκ°€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ— μ¤‘μ²©λ κ²½μ°, λ λ”λ§λ μ»¨ν…μΈ λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ‚΄μ— μ μ ν•κ² λ°°μΉλλ‹¤.

```
λ„¥μ¤νΈjsμ—μ„λ” μ΄κΈ° νμ΄μ§€ λ΅λ“ μ¤‘μ— μ„ λ‹¨κ³„μ—μ„ μ„λ²„ μ»΄ν¬λ„νΈμ λ λ”λ§λ κ²°κ³Όμ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ λ¨λ‘ μ„λ²„μ—μ„ htmlλ΅ pre-renderingλμ–΄ λ” λΉ λ¥Έ μ΄κΈ° νμ΄μ§€ λ΅λ“λ¥Ό μƒμ„±ν•λ‹¤.
```

μ„μ—μ„ μ„¤λ…ν• λ λ”λ§ νλ¦„μ„ κ³ λ ¤ν•  λ• ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό κ°€μ Έμ¤λ”λ°λ” μ ν•μ΄ μλ‹¤. μ΄ μ ‘κ·Ό λ°©μ‹μ—λ” μ¶”κ°€ μ„λ²„ μ™•λ³µμ΄ ν•„μ”ν•κΈ° λ•λ¬Έμ΄λ‹¤. μ¦‰, λ‹¤μ ν¨ν„΄μ€ μ§€μ›λμ§€ μ•λ”λ‹¤.

```tsx
// μ΄ ν¨ν„΄μ€ μ§€μ›λμ§€ μ•λ”λ‹¤.
"use client";

// ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό κ°€μ Έμ¬ μ μ—†λ‹¤.
import ExampleServerComponent from "./example-server-component";

export default function ExampleClientComponent({
  children,
}: {
  children: React.ReactNode;
}) {
  const [count, setCount] = useState(0);

  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>

      <ExampleServerComponent />
    </>
  );
}
```

λ€μ‹  λ‹¤μκ³Ό κ°™μ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ λ¦¬μ•΅νΈμ `children` propμ„ μ‚¬μ©ν•μ—¬ μ„λ²„ μ»΄ν¬λ„νΈκ°€ λ λ”λ§λ κ²°κ³Όλ΅ μ±„μ›μ§ κ³³μ„ ν‘μ‹ν•  μ μλ‹¤.

```tsx
"use client";

import { useState } from "react";

export default function ExampleClientComponent({
  children,
}: {
  children: React.ReactNode;
}) {
  const [count, setCount] = useState(0);

  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>
      // μ—¬κΈ°μ—μ„ μ„λ²„ μ»΄ν¬λ„νΈκ°€ λ λ”λ§λ κ²°κ³Όκ°€ μ±„μ›μ§„λ‹¤.
      {children}
    </>
  );
}
```

μ¦‰, μ•„λμ™€ κ°™μ€ ν¨ν„΄μ€ μ§€μ›λλ‹¤. μ΄ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄, μμ‹μΌλ΅ μ „λ‹¬λλ” λ‘ μ»΄ν¬λ„νΈμ λ λ”λ§μ΄ λ¶„λ¦¬λμ–΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ³΄λ‹¤ λ¨Όμ € μ„λ²„μ—μ„ λ λ”λ§λλ” μ„λ²„ μ»΄ν¬λ„νΈμ™€ ν•¨κ» μ •λ ¬λμ–΄ λ…λ¦½μ μΌλ΅ λ λ”λ§λ  μ μλ‹¤.

```tsx
// μ΄ ν¨ν„΄μ€ μ§€μ›λλ‹¤.
// ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ μμ‹ νΉμ€ propμΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μ „λ‹¬ν•  μ μλ‹¤.
import ExampleClientComponent from "./example-client-component";
import ExampleServerComponent from "./example-server-component";

// λ„¥μ¤νΈjsμ—μ„ νμ΄μ§€λ” κΈ°λ³Έμ μΌλ΅ μ„λ²„ μ»΄ν¬λ„νΈκ°€ κΈ°λ³Έκ°’μ΄λ‹¤.
export default function Page() {
  return (
    <ExampleClientComponent>
      <ExampleServerComponent />
    </ExampleClientComponent>
  );
}
```

μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ μ „λ‹¬λλ” propsλ” **μ§λ ¬ν™”** κ°€λ¥ν•΄μ•Ό ν•λ‹¤. μ΄λ” functions, Dates λ“±κ³Ό κ°™μ€ κ°’μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μ§μ ‘ μ „λ‹¬ν•  μ μ—†μμ„ μλ―Έν•λ‹¤.

jsλ¨λ“μ€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ κ°„μ— κ³µμ λ  μ μμΌλ―€λ΅ μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ„λ΅ μλ„λ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈμ— μλ„μΉ μ•κ² μ„μΌ μ μλ‹¤.

<br/>

## νμ΄μ§€μ™€ λ μ΄μ•„μ›ƒ

> ### νμ΄μ§€

νμ΄μ§€λ” **κ²½λ΅μ— κ³ μ ν• UI**μ΄λ‹¤. νμΌμ—μ„ μ»΄ν¬λ„νΈλ¥Ό λ‚΄λ³΄λ‚΄μ„ νμ΄μ§€λ¥Ό μ •μν•  μ μλ‹¤. λ‹¤μκ³Ό κ°™μ΄ μ¤‘μ²© ν΄λ”λ¥Ό μ‚¬μ©ν•΄μ„ κ²½λ΅λ¥Ό μ •μν•κ³ , `app/`κ²½λ΅μ— `page.js`νμΌμ„ μ¶”κ°€ν•μ—¬ κ²½λ΅μ— κ³µκ°μ μΌλ΅ μ ‘κ·Όν•  μ μκ²ν•λ‹¤.
<img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fpage-special-file.png&w=1920&q=75" width="80%"/>

```tsx
// `app/page.tsx` is the UI for the `/` URL
export default function Page() {
  return <h1>Hello, Home page!</h1>;
}
```

```tsx
// `app/dashboard/page.tsx` is the UI for the `/dashboard` URL
export default function Page() {
  return <h1>Hello, Dashboard Page!</h1>;
}
```

> ### λ μ΄μ•„μ›ƒ

λ μ΄μ•„μ›ƒμ€ **μ—¬λ¬ νμ΄μ§€ κ°„μ— κ³µμ λλ” UI**μ΄λ‹¤. λ μ΄μ•„μ›ƒμ€ μ¤‘μ²©λ  μλ„ μκ³ , μƒνƒλ¥Ό μ μ§€ν•λ©΄μ„ λ‹¤μ‹ λ λ”λ§λμ§€ μ•λ”λ‹¤.

κΈ°λ³Έμ μΌλ΅ `layout.js`νμΌμ—μ„ λ μ΄μ•„μ›ƒμ„ μ •μν•  μ μλ‹¤. μ»΄ν¬λ„νΈλ” λ λ”λ§ κ³Όμ •μ—μ„ μμ‹ λ μ΄μ•„μ›ƒμ΄λ‚ μμ‹ νμ΄μ§€λ΅ μ±„μ›μ§ `children` propλ¥Ό λ°›μ•„μ•Ό ν•λ‹¤.

<img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Flayout-special-file.png&w=1920&q=75" width="80%"/>

```tsx
// app/dashboard/layout.tsx
export default function DashboardLayout({
  children, // μμ‹ λ μ΄μ•„μ›ƒμ΄λ‚ νμ΄μ§€κ°€ λ  propμ΄λ‹¤.
}: {
  children: React.ReactNode;
}) {
  return (
    <section>
      {/* ν—¤λ”λ‚ μ‚¬μ΄λ“λ°”κ°™μ€ κ³µν†µ UIλ¥Ό ν¬ν•¨ν•λ‹¤. */}
      <nav></nav>

      {children}
    </section>
  );
}
```

> ### λ£¨νΈ λ μ΄μ•„μ›ƒ (ν•„μ)

λ£¨νΈ λ μ΄μ•„μ›ƒμ€ μµμƒμ„μ `app/`κ²½λ΅μ—μ„ μ •μλλ©° λ¨λ“  κ²½λ΅μ— μ μ©λλ‹¤. μ΄ λ μ΄μ•„μ›ƒμ„ μ‚¬μ©ν•λ©΄ **μ„λ²„μ—μ„ λ°ν™λ μ΄κΈ° htmlμ„ μμ •**ν•  μ μλ‹¤.

```tsx
// app/layout.tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}
```

> ### μ¤‘μ²© λ μ΄μ•„μ›ƒ

μ•„λμ™€ κ°™μ΄ ν΄λ” λ‚΄μ— μ •μλ λ μ΄μ•„μ›ƒμ€ `acme.com/dashboard`μ™€ κ°™μ€ νΉμ • κ²½λ΅μ— μ μ©λλ‹¤. κΈ°λ³Έμ μΌλ΅ νμΌ κ³„μΈµ κµ¬μ΅°μ λ μ΄μ•„μ›ƒμ€ μ¤‘μ²©λλ‹¤. μ¦‰, `children` propμ„ ν†µν•΄ μμ‹ λ μ΄μ•„μ›ƒμ„ κ°μ‹Όλ‹¤. (toDoAsk - μ—¬κΈ°μ„ `children` propμ€ `page.js`μΌκΉ? `DashboardLayout`μ μμ‹ λ μ΄μ•„μ›ƒμ΄ λ­μ§€?)

<img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fnested-layout.png&w=1920&q=75" width="80%" />

```tsx
// app/dashboard/layout.tsx
export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return <section>{children}</section>;
}
```

λ£¨νΈ λ μ΄μ•„μ›ƒμΈ `app/layout.js`λ” `app/dashboard/layout.js`κ²½λ΅μ `<DashboardLayout />`μ„ κ°μ‹Όλ‹¤. μ¦‰, λ‘ λ μ΄μ•„μ›ƒμ€ λ‹¤μκ³Ό κ°™μ΄ μ¤‘μ²©λλ‹¤. λν• [λ£¨νΈ κ·Έλ£Ή](https://nextjs.org/docs/app/building-your-application/routing/defining-routes#route-groups)μ„ μ‚¬μ©ν•΄μ„ λ μ΄μ•„μ›ƒ μ•νμΌλ΅ νΉμ • λ£¨νΈλ¥Ό λΌμ›λ„£μ„ μ μλ‹¤.

<img src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fnested-layouts-ui.png&w=1920&q=75" width="80%" />
